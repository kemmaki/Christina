<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Magical Candle Cake</title>
<style>
    body {
        margin: 0;
        padding-top: 40px;
        font-family: "Georgia", serif;
        background: radial-gradient(circle at top, #1b0f2e, #06010f);
        color: #f8eaff;
        text-align: center;
        overflow-x: hidden;
    }

    h1 {
        margin-bottom: 6px;
        text-shadow: 0 0 12px #c77dff;
    }

    p {
        opacity: 0.85;
    }

    /* ===== Magical Cake ===== */
    #cake {
        position: relative;
        width: 380px;
        height: 200px;
        margin: 70px auto 0;
        border-radius: 50% / 18%;
        background:
            radial-gradient(circle at top, #5a2a82, #2a1246 70%);
        box-shadow:
            0 0 40px #9b5cff,
            0 0 80px rgba(155,92,255,0.4);
        animation: float 4s ease-in-out infinite;
        overflow: visible;
    }

    @keyframes float {
        0% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0); }
    }

    /* Top magic frosting */
    #cake::before {
        content: "";
        position: absolute;
        top: -25px;
        left: 0;
        width: 100%;
        height: 60px;
        border-radius: 50%;
        background:
            radial-gradient(circle at center, #d6b3ff, #7a3fbf 70%);
        box-shadow:
            inset 0 0 20px rgba(255,255,255,0.4),
            0 0 30px #c77dff;
    }

    /* Rune band */
    #cake::after {
        content: "âœ§ âœ¦ âœ§ âœ¦ âœ§ âœ¦ âœ§";
        position: absolute;
        bottom: 35px;
        width: 100%;
        text-align: center;
        font-size: 20px;
        letter-spacing: 8px;
        color: #e6ccff;
        opacity: 0.8;
        text-shadow: 0 0 10px #c77dff;
    }

    /* ===== Candles ===== */
    .candles {
        position: absolute;
        top: -60px;
        width: 100%;
        display: flex;
        justify-content: center;
        gap: 18px;
        z-index: 5;
    }

    .candle {
        position: relative;
        width: 14px;
        height: 60px;
        background: linear-gradient(#e0d7ff, #9b7dff);
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(180,140,255,0.8);
        cursor: pointer;
    }

    /* Crystal shine */
    .candle::after {
        content: "";
        position: absolute;
        left: 3px;
        top: 5px;
        width: 3px;
        height: 50px;
        background: rgba(255,255,255,0.4);
        border-radius: 2px;
    }

    .flame {
        position: absolute;
        bottom: 100%;
        left: 50%;
        width: 20px;
        height: 28px;
        transform: translateX(-50%);
        background:
            radial-gradient(circle at center, #ffffff, #9bf6ff, #5f00ff);
        border-radius: 50%;
        filter: blur(0.2px);
        box-shadow:
            0 0 20px #9bf6ff,
            0 0 40px #5f00ff;
        animation: pulse 0.25s infinite alternate;
    }

    @keyframes pulse {
        from { transform: translateX(-50%) scale(1); }
        to { transform: translateX(-50%) scale(1.15); }
    }

    .smoke {
        position: absolute;
        bottom: 100%;
        left: 50%;
        width: 22px;
        height: 22px;
        background: rgba(200,180,255,0.6);
        border-radius: 50%;
        transform: translateX(-50%);
        animation: smoke 1.6s forwards;
    }

    @keyframes smoke {
        from { opacity: 1; transform: translateX(-50%) scale(0.5); }
        to { opacity: 0; transform: translateX(-50%) translateY(-50px) scale(1.6); }
    }

    .out .flame { display: none; }

    /* Floating sparkles */
    .sparkle {
        position: absolute;
        width: 6px;
        height: 6px;
        background: #e6ccff;
        border-radius: 50%;
        box-shadow: 0 0 10px #c77dff;
        animation: sparkle 5s linear infinite;
        opacity: 0.8;
    }

    @keyframes sparkle {
        from { transform: translateY(0) scale(0.5); opacity: 0; }
        20% { opacity: 1; }
        to { transform: translateY(-200px) scale(1.2); opacity: 0; }
    }

    #message {
        margin-top: 24px;
        font-size: 26px;
        text-shadow: 0 0 15px #c77dff;
    }
</style>
</head>
<body>

<h1>âœ¨ Enchanted Candle Cake âœ¨</h1>
<p>Click the glowing candles and make a wish</p>

<div id="cake">
    <div class="candles" id="candles"></div>
</div>

<div id="message"></div>

<script>
const candleCount = 6;
const holder = document.getElementById("candles");
const message = document.getElementById("message");

for (let i = 0; i < candleCount; i++) {
    const candle = document.createElement("div");
    candle.className = "candle";
    candle.innerHTML = `<div class="flame"></div>`;
    holder.appendChild(candle);

    candle.addEventListener("click", () => blowOut(candle));
}

/* Sparkles */
for (let i = 0; i < 20; i++) {
    const s = document.createElement("div");
    s.className = "sparkle";
    s.style.left = Math.random() * 100 + "%";
    s.style.bottom = "0";
    s.style.animationDelay = Math.random() * 5 + "s";
    document.body.appendChild(s);
}

function blowOut(candle) {
    if (candle.classList.contains("out")) return;
    candle.classList.add("out");

    const smoke = document.createElement("div");
    smoke.className = "smoke";
    candle.appendChild(smoke);
    setTimeout(() => smoke.remove(), 1600);

    checkWin();
}

function checkWin() {
    const candles = document.querySelectorAll(".candle");
    if ([...candles].every(c => c.classList.contains("out"))) {
        message.textContent = "ðŸŒŸ Your wish has been sealed by magic ðŸŒŸ";
    }
}
</script>

</body>
</html>
