<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Birthday Totem</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        background: linear-gradient(180deg, #0f1020, #1f2340);
        font-family: system-ui, sans-serif;
        color: #ffffff;
        text-align: center;
        overflow: hidden;
    }

    h1 {
        margin-top: 24px;
        font-weight: 600;
        letter-spacing: 2px;
    }

    p {
        font-size: 14px;
        opacity: 0.75;
    }

    /* ===== Totem Cake ===== */
    #totem {
        position: absolute;
        left: 50%;
        bottom: 120px;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .layer {
        width: 320px;
        height: 50px;
        border-radius: 12px;
        box-shadow: 0 20px 30px rgba(0,0,0,0.6);
    }

    .layer.top    { background: #ff5f7e; }
    .layer.mid    { background: #ffd166; }
    .layer.bottom { background: #4dd6a5; }

    /* ===== Candles ===== */
    .candles {
        display: flex;
        justify-content: center;
        gap: 18px;
        margin-bottom: 8px;
    }

    .candle {
        position: relative;
        width: 14px;
        height: 48px;
        background: #ffffff;
        border-radius: 6px;
        cursor: pointer;
        box-shadow: 0 0 0 2px #ff5f7e;
    }

    .flame {
        position: absolute;
        bottom: 100%;
        left: 50%;
        width: 14px;
        height: 18px;
        transform: translateX(-50%);
        background: #ffbe0b;
        border-radius: 50%;
        animation: pulse 0.3s infinite alternate;
    }

    @keyframes pulse {
        from { transform: translateX(-50%) scale(1); }
        to   { transform: translateX(-50%) scale(1.2); }
    }

    .out .flame { display: none; }

    /* Confetti */
    .confetti {
        position: absolute;
        width: 6px;
        height: 10px;
        animation: confetti 1.6s forwards;
    }

    @keyframes confetti {
        from { opacity: 1; transform: translateY(0) rotate(0); }
        to   { opacity: 0; transform: translateY(120px) rotate(360deg); }
    }

    #message {
        position: absolute;
        bottom: 40px;
        width: 100%;
        font-size: 22px;
        letter-spacing: 2px;
        opacity: 0;
        transition: opacity 1s;
    }

    #message.show {
        opacity: 1;
    }
</style>
</head>
<body>

<h1>BIRTHDAY TOTEM</h1>
<p>Blow out the lights â€” celebrate the year</p>

<div id="totem">
    <div class="candles" id="candles"></div>
    <div class="layer top"></div>
    <div class="layer mid"></div>
    <div class="layer bottom"></div>
</div>

<div id="message">ðŸŽ‰ Another year unlocked ðŸŽ‰</div>

<script>
const candleCount = 7;
const holder = document.getElementById("candles");
const message = document.getElementById("message");

for (let i = 0; i < candleCount; i++) {
    const candle = document.createElement("div");
    candle.className = "candle";
    candle.innerHTML = `<div class="flame"></div>`;
    holder.appendChild(candle);

    candle.addEventListener("click", () => blowOut(candle));
}

function blowOut(candle) {
    if (candle.classList.contains("out")) return;
    candle.classList.add("out");

    for (let i = 0; i < 10; i++) {
        const c = document.createElement("div");
        c.className = "confetti";
        c.style.left = Math.random() * 100 + "%";
        c.style.top = "50%";
        c.style.background = `hsl(${Math.random() * 360}, 80%, 60%)`;
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 1600);
    }

    checkWin();
}

function checkWin() {
    const candles = document.querySelectorAll(".candle");
    if ([...candles].every(c => c.classList.contains("out"))) {
        message.classList.add("show");
    }
}
</script>

</body>
</html>
